# üè† Smart Home Backend System

**Backend-—á–∞—Å—Ç—å –¥–∏–ø–ª–æ–º–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–º–Ω—ã–º –¥–æ–º–æ–º —Å –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∏ —Ä–æ–ª–µ–≤–æ–π –º–æ–¥–µ–ª—å—é –¥–æ—Å—Ç—É–ø–∞.**

–≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ, —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (REST API), –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ —É–º–Ω–æ–≥–æ –¥–æ–º–∞ —á–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—É—é —Å–µ—Ç—å –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–±–ª–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

*   **Backend Framework:** Spring Boot 3.x
*   **Security:** Spring Security 6 + JWT (JSON Web Tokens)
*   **Database:** PostgreSQL
*   **Persistence:** Spring Data JPA (Hibernate)
*   **Build Tool:** Gradle
*   **Containerization:** Docker & Docker Compose

---

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

*   **üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** –ø–æ —Ä–æ–ª—è–º (USER, ADMIN) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º JWT-—Ç–æ–∫–µ–Ω–æ–≤.
*   **üë®‚Äçüíª –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏:** –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏.
*   **üè† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç—è–º–∏:** –ü–æ–ª–Ω—ã–π CRUD –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤, –∫–æ–º–Ω–∞—Ç –∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.
*   **üéõÔ∏è –ì–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º:** –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –Ω–∞–∑–Ω–∞—á–∞—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.
*   **üåê RESTful API:** –ß–µ—Ç–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ (–¥–µ—Å–∫—Ç–æ–ø –Ω–∞ Electron, –º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –¥—Ä.).
*   **üê≥ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:** –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é —á–µ—Ä–µ–∑ Docker Compose.

---
<img width="1652" height="1400" alt="CleanShot 2025-09-04 at 18 42 25@2x" src="https://github.com/user-attachments/assets/d7dee734-df2e-40f3-8eb5-e007fd39125a" />

<img width="1944" height="1622" alt="CleanShot 2025-09-04 at 18 44 10@2x" src="https://github.com/user-attachments/assets/f70f3c83-91fc-4ead-838f-6776245d9589" />

<img width="1950" height="1514" alt="CleanShot 2025-09-04 at 18 44 40@2x" src="https://github.com/user-attachments/assets/6bbe6d90-bf78-47b8-a15a-fe40414fc780" />

 <img width="1618" height="1760" alt="CleanShot 2025-09-04 at 18 45 13@2x" src="https://github.com/user-attachments/assets/e2de46da-3d2e-470c-8edd-ba1f8beb5575" />

<img width="1594" height="1776" alt="CleanShot 2025-09-04 at 18 45 44@2x" src="https://github.com/user-attachments/assets/bd32a13c-3ac1-4269-9661-3b538eded250" />

---

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–æ—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏)

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≥–∏–±–∫–æ—Å—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
*   **`users`:** –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ª–æ–≥–∏–Ω, —Ö—ç—à –ø–∞—Ä–æ–ª—è, email, —Ä–æ–ª—å).
*   **`devices`:** –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —É–º–Ω–æ–≥–æ –¥–æ–º–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ç–∏–ø, MAC-–∞–¥—Ä–µ—Å, —Å—Ç–∞—Ç—É—Å).
*   **`rooms`:** –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –ø–æ –∫–æ–º–Ω–∞—Ç–∞–º.
*   **`scenarios`:** –°—Ü–µ–Ω–∞—Ä–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞–¥ –≥—Ä—É–ø–ø–æ–π —É—Å—Ç—Ä–æ–π—Å—Ç–≤.
*   **`user_devices`:** –°–≤—è–∑—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º (–º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º).
*   **`tokens`:** –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è JWT-—Ç–æ–∫–µ–Ω–æ–≤ (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ö–∞–Ω–∏–∑–º–∞ logout).

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ó–∞–ø—É—Å–∫ —Å Docker Compose)

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç (Backend + –ë–î) –ª–æ–∫–∞–ª—å–Ω–æ.

**–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:** –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ [Docker](https://www.docker.com/) –∏ [Docker Compose](https://docs.docker.com/compose/install/).

1.  –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
    ```bash
    git clone <your-repository-url>
    cd <repository-directory>
    ```

2.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä–∫—É –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
    ```bash
    docker-compose up -d
    ```

3.  –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8085`
4.  –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ –ø–æ—Ä—Ç—É: `5436`

---

## üì° API Endpoints (–ü—Ä–∏–º–µ—Ä—ã)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –î–æ—Å—Ç—É–ø |
| :--- | :--- | :--- | :--- |
| **POST** | `/api/auth/registration` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | PUBLIC |
| **POST** | `/api/auth/login` | –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É, –ø–æ–ª—É—á–µ–Ω–∏–µ JWT | PUBLIC |
| **GET** | `/api/devices` | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ | USER |
| **PUT** | `/api/devices/{id}/status` | –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ | USER |
| **POST** | `/api/admin/devices` | –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ | ADMIN |
| **GET** | `/api/admin/access` | –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç—É –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ | ADMIN |

–ü–æ–ª–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é API –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ Swagger UI (–µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω) –∏–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é –∏–∑ Postman.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

*   API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å —Å –ø–æ–º–æ—â—å—é **Postman**.
*   –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –ø–æ–ª–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ —Ä–∞–±–æ—Ç—ã: –æ—Ç –∑–∞–ø—Ä–æ—Å–∞ –∏–∑ –∫–ª–∏–µ–Ω—Ç–∞ –¥–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–µ–ª–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ ESP8266 —á–µ—Ä–µ–∑ —à–ª—é–∑ –Ω–∞ ESP32.
*   –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –º–µ—Ö–∞–Ω–∏–∑–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–∫—Ä–∞—Ç–∫–æ)
src/main/java/
‚îú‚îÄ‚îÄ controller/ # REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (Auth, Device, Room, Scenario)
‚îú‚îÄ‚îÄ service/ # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (UserService, DeviceService, etc.)
‚îú‚îÄ‚îÄ repository/ # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (JPA Repositories)
‚îú‚îÄ‚îÄ model/ # –°—É—â–Ω–æ—Å—Ç–∏ (Entity) –∏ DTO
‚îú‚îÄ‚îÄ config/ # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (Security, Web)
‚îî‚îÄ‚îÄ security/ # –ö–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (JwtFilter, JwtService)

text

---

## üë®‚Äçüéì –û –ø—Ä–æ–µ–∫—Ç–µ

–î–∞–Ω–Ω—ã–π backend-–º–æ–¥—É–ª—å –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –≤ –∫–∞—á–µ—Å—Ç–≤–µ **–≤—ã–ø—É—Å–∫–Ω–æ–π –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –±–∞–∫–∞–ª–∞–≤—Ä–∞** (–í–ö–†) –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é 09.03.01 "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ –∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞" –≤ –°–∏–±–∏—Ä—Å–∫–æ–º –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–º —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ —Ç–µ–ª–µ–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏ (–°–∏–±–ì–£–¢–ò).

**–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞:** –°–æ–∑–¥–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –æ—Ç –æ–±–ª–∞–∫–æ–≤ —Å–∏—Å—Ç–µ–º—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–º–Ω—ã–º –¥–æ–º–æ–º —Å —Ä–∞–∑–≤–∏—Ç–æ–π —Å–∏—Å—Ç–µ–º–æ–π —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞.

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö.
